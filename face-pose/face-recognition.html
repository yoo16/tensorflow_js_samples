<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tensorflow.js - Face Detection</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- TensorFlow.jsライブラリ -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.7.0"></script>
  <!-- MediaPipe Face Mesh -->
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh"></script>
  <!-- TensorFlow.js Core -->
  <!-- Face Landmarks Detection -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/face-landmarks-detection"></script>
  <!-- Three.js via importmap -->
  <script type="importmap">
      {
        "imports": {
          "three": "https://cdn.jsdelivr.net/npm/three/build/three.module.js"
        }
      }
    </script>
</head>

<body class="bg-gray-100">
  <div class="container mx-auto p-4">
    <h1 class="text-3xl font-bold text-center mb-4">Tensorflow.js - Face Detection</h1>
    <div class="relative w-[640px] h-[480px] mx-auto border border-gray-300 shadow-lg">
      <!-- Webカメラ映像（左右反転） -->
      <video id="video" class="absolute inset-0 w-full h-full object-cover transform scale-x-[-1]" autoplay muted
        playsinline loop></video>
      <!-- 検出結果を描画するキャンバス -->
      <canvas id="canvas" class="absolute inset-0 w-full h-full pointer-events-none transform scale-x-[-1]"></canvas>
    </div>
  </div>

  <script type="module" src="js/face-recognition.js"></script>
</body>

</html>